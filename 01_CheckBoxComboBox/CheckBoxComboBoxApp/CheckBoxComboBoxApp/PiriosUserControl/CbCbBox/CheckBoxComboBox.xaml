<UserControl 
    x:Class="CheckBoxComboBoxApp.PiriosUserControl.CbCbBox.CheckBoxComboBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
>
    <ComboBox
        x:Name="MainComboBox"
    >
        <ComboBox.Template>
            <ControlTemplate TargetType="ComboBox">
                <Grid >
                    <ToggleButton
                        IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}"
                    >
                    </ToggleButton>
                    <Popup                      
                        AllowsTransparency="True"
                        IsOpen="{TemplateBinding IsDropDownOpen}"
                    >
                        <Grid
                            MinHeight="100"
                            MinWidth="{TemplateBinding ActualWidth}"
                        >
                            <Border
                                BorderThickness="1"
                                BorderBrush="Black"/>
                        </Grid>
                    </Popup>
                </Grid>
            </ControlTemplate>
        </ComboBox.Template>
    </ComboBox>
</UserControl>
